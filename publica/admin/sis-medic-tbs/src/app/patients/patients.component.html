<div class="container-fluid" id="container-height">
  <app-menu></app-menu>
  <div class="row mt-2 ml-2 mr-2 mx-auto">
    <div class="col-sm-12">
      <!-- <a routerLink="/newpacient" class="btn btn-outline-primary float-right"><i class="fas fa-male"></i> Nuevo Paciente</a>
      <h1>Citas</h1> -->
      <div class="row mb-4 text-center">
        <div class="col-lg-3 col-sm-3 col-12  my-auto ">
          <h2 class="float-lg-left">Pacientes</h2>
        </div>

        <div class="col-lg-6 col-sm-6 col-12 my-auto py-2">
          <!-- <input type="text" name="" value="" placeholder="Nombre o CI del Medico" class="form-control"> -->
          <div class="input-group md-form form-sm form-2 pl-0">
            <input class="form-control my-0 py-1 "type="text" placeholder="Nombre, Apellido o CI del Paciente" aria-label="Search" #searchInput (keyup.enter) = "search(searchInput.value)" (keydown.backspace)="reloadData(searchInput.value)"/>
            <div class="input-group-append">
              <a class="input-group-text bg-primary" id="basic-text1"><i class="fas fa-search text-white" aria-hidden="true" (click)="search(searchInput.value)"></i></a>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-sm-3 col-12 my-auto py-2 ">
          <a *ngIf="permiso"  routerLink="/newpacient" class="btn btn-outline-primary float-lg-right "><i class="fas fa-male"></i> Nuevo Paciente</a>
        </div>
      </div>
    </div>
    <div class="text-center col-sm-12" [ngClass]= "{ 'd-none': isvisible }">
      <p class="text-danger">{{errLog}}</p> 
    </div>
    <!-- <div class="col-sm-10 mx-auto mb-4">
      <input type="text" name="" value="" placeholder="Nombre o CI del paciente...." class="form-control">
    </div> -->


    <div class="container-fluid">
    <div class="table-responsive  ">
      <table class="table  table-bordered text-center">
        <thead>
          <th>CI</th>
          <th>Nombre completo</th>
          <!-- <th>Dirección</th> -->
          <th>Email</th>
          <th>Teléfono</th>
          <th>Operaciones</th>
        </thead>
        <tbody>

            <!--a routerLink="/view-exa"><div class="card-body"> <i class="fas fa-search"></i> Buscar</div></a-->


          <tr *ngFor = "let paciente of pacientes">
            <td>{{paciente.cedula}}</td>
            <td>{{paciente.nombre+" "+paciente.apellido}}</td>
            <td>{{paciente.email}}</td>
            <td>{{paciente.phone}}</td>
            <!-- <td></td> -->
            <td><a routerLink="/edit-patient"><button type="button" class="btn btn-warning mt-1" (click)="pasToUpdate(paciente.cedula)">Modificar</button></a>
              <button type="button" class="btn btn-danger mt-1 ml-2" mwlConfirmationPopover  [popoverTitle]="'Eliminar'"
              [popoverMessage]="'Esta seguro de que desea eliminar al usuario?'"  (cancel)="true" (confirm)="deletePatient(paciente.cedula)">Eliminar</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  </div>
</div>
<app-footer></app-footer>
